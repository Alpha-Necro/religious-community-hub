# Server Configuration
PORT=${PORT:-5000}
NODE_ENV=${NODE_ENV:-production}
LOG_LEVEL=${LOG_LEVEL:-info}

# Logging Configuration
LOG_LEVEL=${LOG_LEVEL:-info}
LOG_FORMAT=json
LOG_ROTATION=true
LOG_MAX_SIZE=10000000  # 10MB
LOG_MAX_FILES=30
LOG_COMPRESSION=true
LOG_TIMESTAMP=true
LOG_REQUEST_ID=true

# Error Handling
ERROR_HANDLING_ENABLED=${ERROR_HANDLING_ENABLED:-true}
ERROR_LOG_RETENTION_DAYS=365
ERROR_LOG_FILE_SIZE_LIMIT=10000000  # 10MB
ERROR_LOG_COMPRESSION=true
ERROR_NOTIFICATIONS_ENABLED=${ERROR_NOTIFICATIONS_ENABLED:-true}
ERROR_NOTIFICATION_METHODS=${ERROR_NOTIFICATION_METHODS:-email,slack}
ERROR_THRESHOLD=10
ERROR_RATE_THRESHOLD=1
ERROR_WINDOW=3600000  # 1 hour

# Performance Monitoring
MEMORY_THRESHOLD=${MEMORY_THRESHOLD:-1000000000}
CPU_THRESHOLD=${CPU_THRESHOLD:-80}
RESPONSE_TIME_THRESHOLD=${RESPONSE_TIME_THRESHOLD:-2000}
METRICS_RETENTION_DAYS=7

# Code Splitting
CHUNK_CACHE_TTL=31536000  # 1 year
CHUNK_SIZE_LIMIT=200000  # 200KB
CHUNK_REQUEST_TIMEOUT=5000  # 5 seconds

# Database Configuration
DB_HOST=${DB_HOST:-localhost}
DB_PORT=${DB_PORT:-5432}
DB_NAME=${DB_NAME:-religious_community_hub}
DB_USER=${DB_USER:-postgres}
DB_PASSWORD=${DB_PASSWORD:-your-secure-password}
DB_DIALECT=${DB_DIALECT:-postgres}

# SSL Configuration
DB_SSL=${DB_SSL:-true}
DB_SSL_CA=${DB_SSL_CA:-/path/to/ca.pem}
DB_SSL_CERT=${DB_SSL_CERT:-/path/to/client-cert.pem}
DB_SSL_KEY=${DB_SSL_KEY:-/path/to/client-key.pem}

# Backup Configuration
BACKUP_ENABLED=${BACKUP_ENABLED:-true}
DB_BACKUP_DIR=backups
DB_MAX_BACKUPS=7
BACKUP_SCHEDULE=${BACKUP_SCHEDULE:-0 0 * * *}
BACKUP_RETENTION_DAYS=${BACKUP_RETENTION_DAYS:-7}
BACKUP_COMPRESSION=${BACKUP_COMPRESSION:-true}
DB_BACKUP_ENCRYPT=true
DB_BACKUP_ENCRYPTION_KEY=your-secure-encryption-key
DB_BACKUP_VERIFY=true

# Security Configuration
SECURITY_AUDIT_ENABLED=true
SECURITY_AUDIT_LOG_LEVEL=INFO
SECURITY_AUDIT_RETENTION_DAYS=365
SECURITY_AUDIT_FILE_SIZE_LIMIT=10000000  # 10MB
SECURITY_HEADERS=${SECURITY_HEADERS:-true}
SECURE_CSP=${SECURE_CSP:-true}
SECURE_XSS=${SECURE_XSS:-true}
SECURE_HSTS=${SECURE_HSTS:-true}
SECURE_REFERRER=${SECURE_REFERRER:-true}
SECURE_CONTENT_TYPE=${SECURE_CONTENT_TYPE:-true}
SECURE_FRAME=${SECURE_FRAME:-true}
SECURE_PERM_REDIRECT=${SECURE_PERM_REDIRECT:-true}
SECURE_IE_NO_OPEN=${SECURE_IE_NO_OPEN:-true}
SECURE_XSS_FILTER=${SECURE_XSS_FILTER:-true}
SECURE_HSTS_MAX_AGE=${SECURE_HSTS_MAX_AGE:-31536000}
SECURE_HSTS_INCLUDE_SUBDOMAINS=${SECURE_HSTS_INCLUDE_SUBDOMAINS:-true}
SECURE_HSTS_PRELOAD=${SECURE_HSTS_PRELOAD:-true}

# Security Monitoring
SECURITY_MONITOR_INTERVAL=60000  # 1 minute
SECURITY_ALERT_THRESHOLD=10
SECURITY_SUSPICIOUS_ACTIVITY_THRESHOLD=5
SECURITY_GEOGRAPHICAL_ANOMALY_THRESHOLD=1000  # km

# Security Incident Response
INCIDENT_RESPONSE_ENABLED=true
INCIDENT_NOTIFICATION_ENABLED=true
INCIDENT_NOTIFICATION_METHODS=email,sms,slack
INCIDENT_RETENTION_DAYS=365
INCIDENT_REPORT_RETENTION_DAYS=365

# Security Alerts
SECURITY_ALERT_RETENTION_DAYS=365
SECURITY_ALERT_NOTIFICATIONS=true
SECURITY_TEAM_EMAILS=security@yourdomain.com
OPS_TEAM_EMAILS=ops@yourdomain.com
CRITICAL_ALERTS_EMAILS=critical@yourdomain.com

# JWT Configuration
JWT_SECRET=${JWT_SECRET:-your-secret-key-here}
JWT_EXPIRES_IN=7d

# Session Management
SESSION_SECRET=${SESSION_SECRET:-your-session-secret-here}
SESSION_EXPIRES_IN=1h
SESSION_CLEANUP_INTERVAL=24h
MAX_CONCURRENT_SESSIONS=5
SESSION_TIMEOUT=30m

# Password Reset
PASSWORD_RESET_EXPIRES_IN=1h
PASSWORD_RESET_MAX_ATTEMPTS=3
PASSWORD_RESET_COOLDOWN=24h

# Password Security
PASSWORD_EXPIRATION_DAYS=90
PASSWORD_HISTORY_COUNT=5
LOGIN_ATTEMPT_LIMIT=3
ACCOUNT_LOCKOUT_MINUTES=30

# IP Access Control
IP_WHITELIST=127.0.0.1
IP_BLACKLIST=192.168.1.1
BLOCKED_COUNTRIES=RU,CN,IR
MAX_FAILED_ATTEMPTS_PER_IP=10
MAX_LOGIN_DISTANCE=1000  # km
IP_LOG_RETENTION_DAYS=7

# Rate Limiting
RATE_LIMIT_ENABLED=${RATE_LIMIT_ENABLED:-true}
RATE_LIMIT_WINDOW=${RATE_LIMIT_WINDOW:-15}
RATE_LIMIT_MAX=${RATE_LIMIT_MAX:-100}
RATE_LIMIT_BYPASS=${RATE_LIMIT_BYPASS:-false}
RATE_LIMIT_STORE=${RATE_LIMIT_STORE:-memory}
RATE_LIMIT_STORE_TTL=${RATE_LIMIT_STORE_TTL:-86400}
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
AUTH_RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
AUTH_RATE_LIMIT_MAX=5
API_KEY_RATE_LIMIT_WINDOW_MS=3600000  # 1 hour
API_KEY_RATE_LIMIT_MAX=1000
IP_RATE_LIMIT_WINDOW_MS=86400000  # 24 hours
IP_RATE_LIMIT_MAX=10000

# CORS Configuration
CORS_ENABLED=${CORS_ENABLED:-true}
CORS_ORIGIN=${CORS_ORIGIN:-https://your-domain.com}
CORS_METHODS=${CORS_METHODS:-GET,HEAD,PUT,PATCH,POST,DELETE}
CORS_HEADERS=${CORS_HEADERS:-Content-Type,Authorization}
CORS_CREDENTIALS=${CORS_CREDENTIALS:-true}
CORS_MAX_AGE=${CORS_MAX_AGE:-86400}
CORS_EXPOSE_HEADERS=${CORS_EXPOSE_HEADERS:-Content-Length,X-Foo-Bar}
CORS_ALLOW_PRIVATE_NETWORK=${CORS_ALLOW_PRIVATE_NETWORK:-false}
CLIENT_URL=http://localhost:3000

# API Configuration
API_URL=http://localhost:5000

# Email Configuration
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASS=your-email-password
SMTP_FROM=security@yourdomain.com

# File Upload Configuration
UPLOAD_DIR=uploads
MAX_FILE_SIZE=5242880  # 5MB
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf
